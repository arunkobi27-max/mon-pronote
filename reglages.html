<!DOCTYPE html>
<html lang="fr">
    <script>
    // Appliquer le mode et la couleur d√®s le chargement
    (function() {
        const mode = localStorage.getItem('themeMode');
        const color = localStorage.getItem('themeColor');
        if (mode === 'light') document.documentElement.classList.add('light-mode');
        if (color) document.documentElement.style.setProperty('--accent', color);
    })();
</script>

<style>
    /* Ajoute ceci dans ton bloc <style> sur CHAQUE page */
    .light-mode {
        --bg-color: #f1f5f9;
        --card-bg: #ffffff;
        --text-color: #1e293b;
    }
    body { transition: background 0.3s, color 0.3s; }
</style>
<head>
    <meta charset="UTF-8">
    <title>R√©glages - Th√®me & Mode</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Variables par d√©faut (Mode Sombre) */
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-color: #f8fafc;
            --accent: #6366f1;
        }

        /* Variables Mode Clair */
        body.light-mode {
            --bg-color: #f1f5f9;
            --card-bg: #ffffff;
            --text-color: #1e293b;
        }

        body { 
            font-family: 'Poppins', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color);
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
            transition: 0.3s;
        }

        .settings-card {
            background: var(--card-bg);
            width: 100%; max-width: 500px;
            padding: 25px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center; margin-top: 20px;
        }

        /* Le Switch Mode Jour/Nuit */
        .mode-switch {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(128, 128, 128, 0.1);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .switch {
            position: relative; display: inline-block;
            width: 50px; height: 26px;
        }

        .switch input { opacity: 0; width: 0; height: 0; }

        .slider {
            position: absolute; cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc; transition: .4s; border-radius: 34px;
        }

        .slider:before {
            position: absolute; content: "";
            height: 18px; width: 18px; left: 4px; bottom: 4px;
            background-color: white; transition: .4s; border-radius: 50%;
        }

        input:checked + .slider { background-color: var(--accent); }
        input:checked + .slider:before { transform: translateX(24px); }

        .color-circle {
            width: 40px; height: 40px; border-radius: 50%;
            display: inline-block; margin: 5px; cursor: pointer;
            border: 3px solid transparent;
        }
        .color-circle.active { border-color: var(--text-color); }

    </style>
</head>
<body>

    <a href="menu.html" style="color: var(--accent); text-decoration: none; font-weight: 600;">‚¨Ö RETOUR AU MENU</a>

    <h2>‚öô R√âGLAGES</h2>

    <div class="settings-card">
        <div class="mode-switch">
            <span>‚òÄÔ∏è Mode Jour / üåô Nuit</span>
            <label class="switch">
                <input type="checkbox" id="modeCheckbox" onclick="toggleMode()">
                <span class="slider"></span>
            </label>
        </div>

        <p>Couleur de l'accent</p>
        <div id="colorPicker">
            <div class="color-circle" style="background: #6366f1;" onclick="changeColor('#6366f1')"></div>
            <div class="color-circle" style="background: #ec4899;" onclick="changeColor('#ec4899')"></div>
            <div class="color-circle" style="background: #10b981;" onclick="changeColor('#10b981')"></div>
            <div class="color-circle" style="background: #f59e0b;" onclick="changeColor('#f59e0b')"></div>
        </div>
    </div>

    <script>
        // FONCTION MODE JOUR/NUIT
        function toggleMode() {
            const isChecked = document.getElementById('modeCheckbox').checked;
            if (isChecked) {
                document.body.classList.add('light-mode');
                localStorage.setItem('themeMode', 'light');
            } else {
                document.body.classList.remove('light-mode');
                localStorage.setItem('themeMode', 'dark');
            }
        }

        // FONCTION COULEUR
        function changeColor(color) {
            document.documentElement.style.setProperty('--accent', color);
            localStorage.setItem('themeColor', color);
        }

        // CHARGEMENT DES PR√âF√âRENCES
        window.onload = () => {
            // Charger la couleur
            const color = localStorage.getItem('themeColor');
            if (color) document.documentElement.style.setProperty('--accent', color);

            // Charger le mode
            const mode = localStorage.getItem('themeMode');
            if (mode === 'light') {
                document.body.classList.add('light-mode');
                document.getElementById('modeCheckbox').checked = true;
            }
        };
    </script>
</body>
</html>
